variables:
  isPR: $[ne(variables['system.pullRequest.sourceBranch'], '')]

jobs:
- job: Hello_World
  pool:
    vmImage: windows-latest
  steps:
  - pwsh: |
      Write-Host "Hello world"
      Write-Host "isPR = $(isPR)"
      if (!$isPR) {
        Write-Host "Sorry, this pipeline can only be run from PRs."
      }
      else {
        Write-Host "system.pullRequest.sourceBranch = $(system.pullRequest.sourceBranch)"
        Write-Host "system.pullRequest.targetBranch = $(system.pullRequest.targetBranch)"
        Write-Host "system.pullRequest.sourceCommitId = $(system.pullRequest.sourceCommitId)"
      }
    displayName: Write message
